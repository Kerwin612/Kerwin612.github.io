# VirtualBox的四种网络连接方式

VirtualBox中有4中网络连接方式：   
a. **NAT 网络地址转换模式(Network Address Translation)**  
b. **Bridged Adapter 桥接模式**  
c. **Internal 内部网络模式**  
d. **Host-only Adapter 主机模式**  
VMWare中有三种，其实他跟VMWare 的网络连接方式都是一样概念，只是比VMWare多了*Internal*方式。  

要让自己（或别人）理解深刻，方法就是做比较和打比方，比较之间的不同和相同，拿熟知的事物打比方。先来一张图，通过这张图就很容易看出这4种方式的区别：
![](data:image/png;base64,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)


###一、四种模式介绍

####1、NAT

NAT：Network Address Translation，网络地址转换  

NAT模式是最简单的实现虚拟机上网的方式，你可以这样理解：   
>Guest访问网络的所有数据都是由主机提供的，Guest并不真实存在于网络中，主机与网络中的任何机器都不能查看和访问到Guest的存在。  
Guest可以访问主机能访问到的所有网络，但是对于主机以及主机网络上的其他机器，Guest又是不可见的，甚至主机也访问不到Guest。  

**虚拟机与主机的关系：**只能单向访问，虚拟机可以通过网络访问到主机，主机无法通过网络访问到虚拟机。  
**虚拟机与网络中其他主机的关系：**只能单向访问，虚拟机可以访问到网络中其他主机，其他主机不能通过网络访问到虚拟机。  
**虚拟机与虚拟机的关系：**相互不能访问，虚拟机与虚拟机各自完全独立，相互间无法通过网络访问彼此。  
>IP：10.0.2.15  
网关：10.0.2.2  
DNS：10.0.2.3   

一台虚拟机的多个网卡可以被设定使用 NAT， 第一个网卡连接了到专用网 10.0.2.0，第二个网卡连接到专用网络 10.0.3.0，等等。默认得到的客户端ip（IP Address）是10.0.2.15，网关（Gateway）是10.0.2.2，域名服务器（DNS）是10.0.2.3，可以手动参考这个进行修 改。  
**NAT方案优缺点：**
***笔记本已插网线时：***虚拟机可以访问主机，虚拟机可以访问互联网，在做了端口映射后（最后有说明），主机可以访问虚拟机上的服务（如数据库）。    
***笔记本没插网线时：***主机的“本地连接”有红叉的，虚拟机可以访问主机，虚拟机不可以访问互联网，在做了端口映射后，主机可以访问虚拟机上的服务（如数据库）

####2、Bridged Adapter（网桥模式）

网桥模式，你可以这样理解：  
>它是通过主机网卡，架设了一条桥，直接连入到网络中了。因此，它使得虚拟机能被分配到一个网络中独立的IP，所有网络功能完全和在网络中的真实机器一样。  
网桥模式下的虚拟机，你把它认为是真实计算机就行了。

**虚拟机与主机的关系：**可以相互访问，因为虚拟机在真实网络段中有独立IP，主机与虚拟机处于同一网络段中，彼此可以通过各自IP相互访问。  
**虚拟机于网络中其他主机的关系：**可以相互访问，同样因为虚拟机在真实网络段中有独立IP，虚拟机与所有网络其他主机处于同一网络段中，彼此可以通过各自IP相互访问。    
**虚拟机与虚拟机的关系：**可以相互访问，原因同上。  
>IP：一般是DHCP分配的，与主机的“本地连接”的IP 是同一网段的。虚拟机就能与主机互相通信。

***笔记本已插网线时：***（若网络中有DHCP服务器）主机与虚拟机会通过DHCP分别得到一个IP，这两个IP在同一网段。 主机与虚拟机可以ping通，虚拟机可以上互联网。  
***笔记本没插网线时：***主机与虚拟机不能通信。主机的“本地连接”有红叉，就不能手工指定IP。虚拟机也不能通过DHCP得到IP地址，手工指定IP后，也无法与主机通信，因为主机无IP。这时主机的VirtualBox Host-Only Network 网卡是有ip的，192.168.56.1。虚拟机就算手工指定了IP 192.168.56.*，也ping不能主机。

####3、Internal（内网模式）

内网模式，顾名思义就是内部网络模式：  
>虚拟机与外网完全断开，只实现虚拟机于虚拟机之间的内部网络模式。

**虚拟机与主机的关系：**不能相互访问，彼此不属于同一个网络，无法相互访问。  
**虚拟机与网络中其他主机的关系：**不能相互访问，理由同上。  
**虚拟机与虚拟机的关系：**可以相互访问，前提是在设置网络时，两台虚拟机设置同一网络名称。如上配置图中，名称为intnet。  
>IP：VirtualBox的DHCP服务器会为它分配IP ，一般得到的是192.168.56.101，因为是从101起分的，也可手工指定192.168.56.*。

***笔记本已插网线时：***虚拟机可以与主机的VirtualBox Host-Only Network 网卡通信  
这种方案不受主机本地连接（网卡）是否有红叉的影响。


####4、Host-only Adapter（主机模式）

>主机模式，这是一种比较复杂的模式，需要有比较扎实的网络基础知识才能玩转。可以说前面几种模式所实现的功能，在这种模式下，通过虚拟机及网卡的设置都可以被实现。  
我们可以理解为Guest在主机中模拟出一张专供虚拟机使用的网卡，所有虚拟机都是连接到该网卡上的，我们可以通过设置这张网卡来实现上网及其他很多功能，比如（网卡共享、网卡桥接等）。

**虚拟机与主机的关系：**默认不能相互访问，双方不属于同一IP段，host-only网卡默认IP段为192.168.56.X 子网掩码为255.255.255.0，后面的虚拟机被分配到的也都是这个网段。通过网卡共享、网卡桥接等，可以实现虚拟机于主机相互访问。  
**虚拟机与网络主机的关系：**默认不能相互访问，原因同上，通过设置，可以实现相互访问。  
**虚拟机与虚拟机的关系：**默认可以相互访问，都是同处于一个网段。  
>虚拟机访问主机，用的是主机的VirtualBox Host-Only Network网卡的IP：192.168.56.1 ，不管主机“本地连接”有无红叉，永远通。    
主机访问虚拟机，用是的虚拟机的网卡3的IP： 192.168.56.101 ，不管主机“本地连接”有无红叉，永远通。  
虚拟机访问互联网，用的是自己的网卡2， 这时主机要能通过“本地连接”有线上网，（无线网卡不行）  

***补充：***
我刚装上VirtualBox的时候所有的网络连接方式都试过了，但虚拟机和虚拟机之间就是不能相互访问，Ping都Ping不通，我在想难道VirtualBox的网络设置有这么复杂吗，后来想到是不是Windows XP的防火墙的问题，关闭之，一切就正常了！



###二、灵活应用（模拟出来一个一台主机，监控一个局域网上网情况的网络环境）


通过对以上几种网络模式的了解，我们就可以灵活运用，模拟组建出我们所想要的任何一种网络环境了。
* 首先我开启了两台虚拟机vhost1与vhost2，当然如果硬件允许，我同样可以再增加vhost3、vhost4......  
* 所有的vhost我都设置成internat内网模式，网络名称为intnal，网关为192.168.56.100，意思就是通过 192.168.56.100网卡上网。  
* 其中有一台vhost1我设置为双网卡，一张为内网模式（192.168.56.100），一张为网桥模式 （192.168.1.101）。  
* 两张网卡设置双网卡共享上网，虚拟机之间为局域网，其中有一台虚拟机vhost1通过与外网相连，所有局域网中的虚拟机又通过vhost1来实现上外网。  
* 这样vhost1就可以监控整个虚拟机局域网上网情况了。



###三、NAT 设置端口映射


你可以设置一个虚拟机的服务（比如 WEB 服务），通过使用命令行工具 VboxManage 代理。你需要知道虚拟机的服务使用哪个端口，然后决定在主机上使用哪个端口（通常但不总是想要使虚拟机和主机使用同一个端口）。在主机上提供一个服务需要 使用一个端口，你能使用在主机上没有准备用来提供服务的任何端口。一个怎样设置新的 NAT 例子，在虚拟机上连接到一个 ssh 服务器，需要下面的三个命令：
```shell
VBoxManage setextradata 'Linux Guest' 'VBoxInternal/Devices/pcnet/0/LUN#0/Config/guestssh/Protocol' TCP
VBoxManage setextradata 'Linux Guest' 'VBoxInternal/Devices/pcnet/0/LUN#0/Config/guestssh/GuestPort' 22
VBoxManage setextradata 'Linux Guest' 'VBoxInternal/Devices/pcnet/0/LUN#0/Config/guestssh/HostPort' 2222
```
说明：VboxManage 是一个命令行程序，请查询你的 VirtualBox 安装目录，'Linux Guest' 是虚拟主机名。guestssh 是一个自定义的名称，你可以任意设置，通过上面的三个命令，把虚拟机的 22 端口 转发到主机的 2222 端口。

又比如，我在虚拟机 debian 上安装了 apache2 服务器，使用 80 端口，映射到主机的 80 端口。使用下面的命令。
```shell
'C:/Program Files/innotek VirtualBox/VBoxManage.exe' setextradata 'debian' 'VBoxInternal/Devices/pcnet/0/LUN#0/Config/huzhangsheng/Protocol' TCP
'C:/Program Files/innotek VirtualBox/VBoxManage.exe' setextradata 'debian' 'VBoxInternal/Devices/pcnet/0/LUN#0/Config/huzhangsheng/GuestPort' 80
'C:/Program Files/innotek VirtualBox/VBoxManage.exe' setextradata 'debian' 'VBoxInternal/Devices/pcnet/0/LUN#0/Config/huzhangsheng/HostPort' 80
```
注意：要使设置生效，请关掉 VirtualBox 再运行虚拟机，我把 VirtualBox 安装在 winxp 上，在虚拟机中安装 debian 4.02r ，虚拟机名是 debian ，并安装了 apache2 php5 mysql-server ，在主机上用IE浏览 http://localhost ，成功转发到虚拟机 debian 的 apache2 web 服务器上。

